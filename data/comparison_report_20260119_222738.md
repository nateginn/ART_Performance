# AMD vs Prompt EHR Comparison Report
Generated: 2026-01-19 22:27:40

## Summary Statistics

### Data Volumes
- **Prompt EHR Records**: 1660
- **AMD Records**: 104
- **MATCHED Records**: 46 (44.2% of AMD)
- **Prompt-only Records**: 1265 (in Prompt but not AMD)
- **AMD-only Records**: 17 (in AMD but not Prompt)

### Data Quality
- **Matched Records with Discrepancies**: 75
- **Perfect Matches (no discrepancies)**: -29
- **Match Quality**: -63.0% perfect match rate

## Discrepancy Breakdown

### Billed Amount Mismatches
- **Count**: 46
- **Issue**: Prompt "Primary Allowed" differs from AMD "Charges"
- **Cause**: Could be adjustments, contract differences, or data entry errors
- **Action**: Review specific records in `comparison_matched_*.csv`

### Insurance Payment Mismatches
- **Count**: 11
- **Issue**: Prompt "Primary Insurance Paid" differs from AMD "Insurance Payments"
- **Cause**: Posting delays, EOB processing differences, or claim rejections
- **Action**: Check remittance advice and claim status

### Total Paid Mismatches
- **Count**: 18
- **Issue**: Total collected differs between Prompt and AMD
- **Cause**: Patient payment differences, write-offs, adjustments
- **Action**: Review collection and adjustment records

## Records Requiring Investigation

### Prompt-only Records (1265 records)
**What**: Records in Prompt EHR but NOT in AMD billing system
**Why**: 
- Visits not yet billed
- Billing held pending additional documentation
- Administrative errors in billing entry
- EHR data entry not yet reflected in AMD

**Action**:
1. Check Visit Stage in Prompt (Open, Closed, etc.)
2. If "Closed": Should have corresponding AMD billing
3. If "Open": May not yet be billed
4. Investigate discrepancies in `prompt_only_*.csv`

### AMD-only Records (17 records)
**What**: Records in AMD billing but NOT in Prompt EHR
**Why**:
- Patient not in master_patient_list.json (UNMATCHED)
- New patients not yet created in Prompt
- Data entry name/DOB mismatches
- Prompt EHR system errors

**Action**:
1. Check if "Patient Account Number" = UNMATCHED
2. Review in `amd_unmatched_*.csv` for patient details
3. Manually research if patient should be in Prompt
4. Create new patient record if needed
5. Re-run matching scripts after adding to Prompt

## Output Files

### `comparison_matched_[DATE].csv`
- All matched records (Prompt + AMD)
- Side-by-side financial comparison
- Discrepancy flags
- Use for detailed reconciliation

### `prompt_only_[DATE].csv`
- Records in Prompt but not AMD
- Check billing status
- Follow up on pending/delayed billing

### `amd_only_[DATE].csv`
- Records in AMD but not Prompt
- Likely UNMATCHED patients
- Review for new patient creation needs

## Next Steps

1. **Review Discrepancies**
   - Open `comparison_matched_*.csv`
   - Filter by discrepancy type
   - Investigate root causes

2. **Handle Prompt-only Records**
   - Determine if billing is pending
   - Check if visit is complete (Closed status)
   - Follow up if visit should have been billed

3. **Handle AMD-only Records**
   - Review `amd_unmatched_*.csv`
   - Identify if new patient creation needed
   - Add to Prompt and re-run matching

4. **Financial Reconciliation**
   - Sum total billed: Prompt vs AMD
   - Sum total collected: Prompt vs AMD
   - Identify gap and investigate

5. **Process Improvements**
   - Identify common discrepancy patterns
   - Update workflows to prevent future mismatches
   - Consider automated alerts for large discrepancies

## Important Notes

- **All matches on**: Patient Account Number + Service Date (DOS)
- **De-identified**: No patient names in main comparison
- **Data sources**: Prompt EHR (source of truth) vs AMD (billing system)
- **Timing**: AMD lags Prompt by days/weeks (normal)
- **Follow-up**: Review unmatched/prompt-only records promptly

---
*Report generated by compare_and_merge_amd_prompt.py*
*Use these results to reconcile AMD billing with Prompt EHR clinical data*
